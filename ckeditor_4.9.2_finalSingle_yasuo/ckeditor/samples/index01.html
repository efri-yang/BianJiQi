<!DOCTYPE html>
<!--
Copyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
-->
<html>

<head>
    <meta charset="utf-8">
    <title>CKEditor Sample</title>
    <script type="text/javascript" src="https://apps.bdimg.com/libs/jquery/1.9.0/jquery.js"></script>

    <script src="../ckeditor.js"></script>
    <script type="text/javascript" src="./js/plupload/moxie.min.js"></script>
    <script type="text/javascript" src="./js/plupload/plupload.dev.js"></script>
    <script type="text/javascript" src="./js/layer/layer.js"></script>
    <script type="text/javascript" src="./js/tab.js"></script>
    <link rel="stylesheet" type="text/css" href="./css/base.css" />
    <link rel="stylesheet" type="text/css" href="css/plugin.css">
    <style type="text/css">
.cke_toolbox .cke_toolbar:last-child>.cke_toolgroup>a:after{
        display: none;
}
</style>
</head>



<body style="padding: 150px 150px;">
    <div>
        <p>1、对于图片上传进行了优化，图片修改进行优化(双击进行编辑)</p>
        <p>2、插入iframe表单进行优化(由于https与http问题暂时无法看见)</p>
        <p>3、整合常用的功能</p>
    </div>
    <div id="editor">
       <h1 class="webstore-Xb-Ab-Cb-Db-Wb" style="display: table; font-size: inherit; font-weight: inherit; margin: 0px; padding: 0px;"><a class="webstore-Xb-Ab-Cb-i" href="https://chrome.google.com/webstore/category/apps" style="color: rgb(38, 38, 38); text-decoration: none; font-family: 'Open Sans', arial, sans-serif; font-size: 14px; line-height: normal; background-color: rgb(236, 236, 236);"><span class="webstore-Xb-Ab-Cb-Eb" style="font-size: 16px; position: relative; top: 5px; padding-left: 5px; width: 185px;">Chrome Web Store</span></a></h1>
        
       <p>A sample <u>heavily formatted text</u> using <strong><span style="font-family: 'Comic Sans MS';font-size:16px">different fonts</span></strong> and <span style="font-size:18px;color:#00FF00;background-color: #FFFF00">text colors</span>. </p>
       <a href="#">asdfasdfasdf</a>
       <img src="images/demo/01.jpg" width="500" height="500">

       <h1 class="webstore-Xb-Ab-Cb-Db-Wb" style="display: table; font-size: inherit; font-weight: inherit; margin: 0px; padding: 0px;"><a class="webstore-Xb-Ab-Cb-i" href="https://chrome.google.com/webstore/category/apps" style="color: rgb(38, 38, 38); text-decoration: none; font-family: 'Open Sans', arial, sans-serif; font-size: 14px; line-height: normal; background-color: rgb(236, 236, 236);"><span class="webstore-Xb-Ab-Cb-Eb" style="font-size: 16px; position: relative; top: 5px; padding-left: 5px; width: 185px;">Chrome Web Store</span></a></h1>
    </div>


<!--   <iframe class="iframe-box" frameborder="none" width="500" height="600" src="http://www.xiaoyu.com/enroll?app_id=2559"></iframe> -->

<button id="x1" style="">点击</button>

    

    <button id="btn-get-content">获取内容</button>

    <button id="btn-get-selectcontent">获取选中内容</button>
    <script>
    var editor = CKEDITOR.replace('editor', {
        height:500,
        /*enterMode:2,*/
        extraPlugins: 'imagesingle,imagegallery,iframebox,tablebox,link',
        // allowedContent: true,
        // allowedContentRules:"p h1(left,right)",
        disallowedContent:"img[width,height]",
        test:function(){
            alert(this.name);
        },
        imageGallery:{
            //上传文件配置
            plupload:{ 
                url: 'upload.php',
                multipart_params:{},//用户id和帖子id 等额外参数
                filters: {
                    max_imgfile_count: 3,
                    prevent_duplicates: true,
                    max_file_size: '50mb',
                    mime_types: [
                        { title: "Image files", extensions: "jpg,jpeg,gif,png" }
                    ]
                }
            },
            //相册类型的url
            gallerytypeUrl:"./gallerytype.php",
            //相册列表
            getGalleryListUrl:"./lazyload.php"
        },
        imageSingle:{
            plupload:{ 
                url: 'upload.php',
                multipart_params:{},//用户id和帖子id 等额外参数
                filters: {
                    max_imgfile_count: 3,
                    prevent_duplicates: true,
                    max_file_size: '50kb',
                    mime_types: [
                        { title: "Image files", extensions: "jpg,jpeg,gif,png" }
                    ]
                }
            }
        },


    });

    console.dir(editor);














    // var tpl = new CKEDITOR.template( '<div class="{cls}">{label}</div>' );
    // alert( tpl.output( { cls: 'cke-label', label: 'foo'} ) );







    $(function() {
        $("#btn-get-content").on("click", function() {
            alert(editor.getData())
            // alert(editor.getSelection().getSelectedText())
        });

        $("#btn-get-selectcontent").on("click",function(){
            console.dir(editor.getSelection())
        })
    })
    </script>
</body>

</html>